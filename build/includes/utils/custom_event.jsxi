(function () {
	function CustomEvent (event, params = { bubbles: false, cancelable: false, detail: undefined }){
		var result = document.createEvent ('CustomEvent');
		result.initCustomEvent (event, params.bubbles, params.cancelable, params.detail);
		for (var key, value in params)
			if (['bubbles', 'cancelable', 'detail'].indexOf (key) == -1)
				result [key] = value;
		return result;
	};

	CustomEvent.prototype = window.CustomEvent.prototype;
	window.CustomEvent = CustomEvent;
})();